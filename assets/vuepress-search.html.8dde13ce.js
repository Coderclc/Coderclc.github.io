import{_ as t}from"./search-algolia.646068db.js";import{_ as c,o as D,c as r,a as s,b as a,d as n,e,r as l}from"./app.a81d06d1.js";const y={},i=s("h1",{id:"vuepress-search",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#vuepress-search","aria-hidden":"true"},"#"),n(" Vuepress Search")],-1),u=n("The official "),C={href:"https://v2.vuepress.vuejs.org/zh/reference/plugin/docsearch.html",target:"_blank",rel:"noopener noreferrer"},h=n("Vuepress Search"),d=n(" provides two search plugins, you now see the search box in the upper right corner of the page"),E=s("h2",{id:"search",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#search","aria-hidden":"true"},"#"),n(" Search")],-1),q=s("p",null,"Provides local search capabilities for your documentation website.",-1),_=s("p",null,"The plugin generates a search index locally based on your page, and then loads the search index file when a user visits your site. In other words, it's a lightweight built-in search capability that doesn't make any external requests. He can only perform simple route search, and recommends you to use a more mature solution - docsearch.",-1),g=s("p",null,"##Docsearch",-1),F=s("p",null,"Integrate Algolia DocSearch into VuePress to provide search functionality to your documentation site.",-1),m=n("You need to "),f={href:"https://docsearch.algolia.com/apply",target:"_blank",rel:"noopener noreferrer"},v=n("submit your website URL"),b=n(" to join the DocSearch project. When your index is successfully created, the DocSearch team will send the apiKey and indexName to your email. Next, you can configure the plugin to enable DocSearch in VuePress."),x=e(`<div class="language-javascript ext-js"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> { </span><span style="color:#4FC1FF;">docsearchPlugin</span><span style="color:#D4D4D4;"> } = </span><span style="color:#DCDCAA;">require</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&#39;@vuepress/plugin-docsearch&#39;</span><span style="color:#D4D4D4;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">docsearchPlugin</span><span style="color:#D4D4D4;">({</span></span>
<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#9CDCFE;">appId:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;BXVCMB3WP4&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#9CDCFE;">apiKey:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;1f1ea2c1822461715676a7ee0955d200&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#9CDCFE;">indexName:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;chenlicheng&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#9CDCFE;">searchParameters:</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">facetFilters:</span><span style="color:#D4D4D4;"> [</span><span style="color:#CE9178;">&#39;tags:v2&#39;</span><span style="color:#D4D4D4;">]</span></span>
<span class="line"><span style="color:#D4D4D4;">      },</span></span>
<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#9CDCFE;">locales:</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#CE9178;">&#39;/zh/&#39;</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">          </span><span style="color:#9CDCFE;">placeholder:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Search documents&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">          </span><span style="color:#9CDCFE;">translations:</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">            </span><span style="color:#9CDCFE;">button:</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">              </span><span style="color:#9CDCFE;">buttonText:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Search document&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">              </span><span style="color:#9CDCFE;">buttonAriaLabel:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Search Documentation&#39;</span></span>
<span class="line"><span style="color:#D4D4D4;">            },</span></span>
<span class="line"><span style="color:#D4D4D4;">            </span><span style="color:#9CDCFE;">modal:</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">              </span><span style="color:#9CDCFE;">searchBox:</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">resetButtonTitle:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Clear query conditions&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">resetButtonAriaLabel:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Clear query conditions&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">cancelButtonText:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Cancel&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">cancelButtonAriaLabel:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Cancel&#39;</span></span>
<span class="line"><span style="color:#D4D4D4;">              },</span></span>
<span class="line"><span style="color:#D4D4D4;">              </span><span style="color:#9CDCFE;">startScreen:</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">recentSearchesTitle:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Search history&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">noRecentSearchesText:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;No search history&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">saveRecentSearchButtonTitle:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Save to search history&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">removeRecentSearchButtonTitle:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Remove from search history&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">favoriteSearchesTitle:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Favorites&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">removeFavoriteSearchButtonTitle:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Remove from Favorites&#39;</span></span>
<span class="line"><span style="color:#D4D4D4;">              },</span></span>
<span class="line"><span style="color:#D4D4D4;">              </span><span style="color:#9CDCFE;">errorScreen:</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">titleText:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Unable to get results&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">helpText:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;You may need to check your network connection&#39;</span></span>
<span class="line"><span style="color:#D4D4D4;">              },</span></span>
<span class="line"><span style="color:#D4D4D4;">              </span><span style="color:#9CDCFE;">footer:</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">selectText:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Select&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">navigateText:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Switch&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">closeText:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;close&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">searchByText:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Search provider&#39;</span></span>
<span class="line"><span style="color:#D4D4D4;">              },</span></span>
<span class="line"><span style="color:#D4D4D4;">              </span><span style="color:#9CDCFE;">noResultsScreen:</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">noResultsText:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Unable to find relevant results&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">suggestedQueryText:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;You can try to query&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">reportMissingResultsText:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Do you think this query should have results? &#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">reportMissingResultsLinkText:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Click Feedback&#39;</span></span>
<span class="line"><span style="color:#D4D4D4;">              }</span></span>
<span class="line"><span style="color:#D4D4D4;">            }</span></span>
<span class="line"><span style="color:#D4D4D4;">          }</span></span>
<span class="line"><span style="color:#D4D4D4;">        }</span></span>
<span class="line"><span style="color:#D4D4D4;">      }</span></span>
<span class="line"><span style="color:#D4D4D4;">    }),</span></span>
<span class="line"></span></code></pre></div><p>You will receive a confirmation email in about three days, and you will receive your <code>appId</code> <code>apiKey</code> <code>indexName</code> in about a day after replying to the confirmation.</p><p>Filled in the parameters with joy, but the result could not be searched</p>`,3),w=n("Log in to "),S={href:"https://www.algolia.com/account/api-keys/all?applicationId=BXVCMB3WP4",target:"_blank",rel:"noopener noreferrer"},k=n("Algolia"),T=n(" to view the datasets crawled by your index"),A=s("p",null,[s("img",{src:t,alt:"search-algolia"})],-1),B=n("If there is a dataset but the data is wrong, you can only use the officially provided custom crawler solution "),I={href:"https://docsearch.algolia.com/docs/legacy/run-your-own/",target:"_blank",rel:"noopener noreferrer"},P=n("Run your own"),N=e(`<p>Prepare the <code>config.json</code> configuration file</p><div class="language-json ext-json"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">{</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">&quot;index_name&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;chenlicheng&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">&quot;start_urls&quot;</span><span style="color:#D4D4D4;">: [</span></span>
<span class="line"><span style="color:#D4D4D4;">    {</span></span>
<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#9CDCFE;">&quot;url&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;https://www.chenlicheng.lol/&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#9CDCFE;">&quot;selectors_key&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;v2&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#9CDCFE;">&quot;tags&quot;</span><span style="color:#D4D4D4;">: [</span><span style="color:#CE9178;">&quot;v2&quot;</span><span style="color:#D4D4D4;">]</span></span>
<span class="line"><span style="color:#D4D4D4;">    }</span></span>
<span class="line"><span style="color:#D4D4D4;">  ],</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">&quot;stop_urls&quot;</span><span style="color:#D4D4D4;">: [],</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">&quot;selectors&quot;</span><span style="color:#D4D4D4;">: {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">&quot;v2&quot;</span><span style="color:#D4D4D4;">: {</span></span>
<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#9CDCFE;">&quot;lvl0&quot;</span><span style="color:#D4D4D4;">: {</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">&quot;selector&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;.sidebar-heading.active&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">&quot;global&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#569CD6;">true</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">&quot;default_value&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;Documentation&quot;</span></span>
<span class="line"><span style="color:#D4D4D4;">      },</span></span>
<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#9CDCFE;">&quot;lvl1&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;.theme-default-content h1&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#9CDCFE;">&quot;lvl2&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;.theme-default-content h2&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#9CDCFE;">&quot;lvl3&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;.theme-default-content h3&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#9CDCFE;">&quot;lvl4&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;.theme-default-content h4&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#9CDCFE;">&quot;lvl5&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;.theme-default-content h5&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#9CDCFE;">&quot;text&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;.theme-default-content p, .theme-default-content li&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#9CDCFE;">&quot;lang&quot;</span><span style="color:#D4D4D4;">: {</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">&quot;selector&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;/html/@lang&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">&quot;type&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot;xpath&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">&quot;global&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#569CD6;">true</span></span>
<span class="line"><span style="color:#D4D4D4;">      }</span></span>
<span class="line"><span style="color:#D4D4D4;">    }</span></span>
<span class="line"><span style="color:#D4D4D4;">  },</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">&quot;scrape_start_urls&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#569CD6;">false</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">&quot;strip_chars&quot;</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">&quot; .,;:#&quot;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">&quot;custom_settings&quot;</span><span style="color:#D4D4D4;">: {</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">&quot;attributesForFaceting&quot;</span><span style="color:#D4D4D4;">: [</span><span style="color:#CE9178;">&quot;lang&quot;</span><span style="color:#D4D4D4;">, </span><span style="color:#CE9178;">&quot;tags&quot;</span><span style="color:#D4D4D4;">]</span></span>
<span class="line"><span style="color:#D4D4D4;">  }</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre></div><p>run crawler</p><p>We run the crawler on the server, the system is Debian 10. First of all, you need to install jq, a simple and powerful json parsing tool, which can be done with one line of command.</p><p><code>yum install jq</code></p><p>Then pull the Docker image and run the crawler, pay attention to modifying the path of the configuration file.</p><p>Copy successfully</p><div class="language-bash ext-sh"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">docker run -it --env APPLICATION_ID=APPLICATION_ID --env API_KEY=API_KEY -e </span><span style="color:#CE9178;">&quot;CONFIG=$(cat /root/docsearch/config.json </span><span style="color:#D4D4D4;">|</span><span style="color:#CE9178;"> jq -r tostring)&quot;</span><span style="color:#D4D4D4;"> algolia/docsearch-scraper</span></span>
<span class="line"></span></code></pre></div><p>After waiting for the crawler to finish running, you can see the results in the console. The index storage limit of the free version is 10,000.</p><p>Finally, go to the Algolia console to view <code>Search-Only API Key</code> and fill in <code>Vuepress</code></p><div class="custom-container tip"><p class="custom-container-title">New content, new documents need to re-crawl to get the dataset</p></div>`,11);function j(R,V){const o=l("ExternalLinkIcon"),p=l("NpmBadge");return D(),r("div",null,[i,s("p",null,[u,s("a",C,[h,a(o)]),d]),E,a(p,{package:"@vuepress/plugin-search"}),q,_,g,F,s("p",null,[m,s("a",f,[v,a(o)]),b]),x,s("p",null,[w,s("a",S,[k,a(o)]),T]),A,s("p",null,[B,s("a",I,[P,a(o)])]),N])}var Y=c(y,[["render",j],["__file","vuepress-search.html.vue"]]);export{Y as default};
